<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gaith Team | Exam</title>

<style>
:root{
  --primary:#0284c7;
  --secondary:#0ea5e9;
  --bg:#f8fbff;
  --card:#ffffff;
  --soft:#e6f0ff;
  --question:#eef7ff;
  --option:#f9fcff;
  --success:#16a34a;
  --danger:#dc2626;
  --text:#0f172a;

  /* Brand dynamic */
  --brand1:#ffffff;
  --brand2:#e0f2fe;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:"Segoe UI",Tahoma,Arial,sans-serif;
  background:linear-gradient(180deg,var(--bg),#eef6ff);
  color:var(--text);
}

/* ================= HEADER ================= */
header{
  background:linear-gradient(90deg,var(--primary),var(--secondary));
  color:#fff;
  padding:18px;
  text-align:center;
  overflow:hidden;
}

/* ===== Brand ===== */
.logo{
  position:relative;
  font-size:28px;
  font-weight:900;
  display:inline-flex;
  align-items:center;
  gap:6px;
}

.brand-text{
  background:linear-gradient(90deg,var(--brand1),var(--brand2),var(--brand1));
  background-size:200% auto;
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  animation:shine 4s linear infinite;
}
@keyframes shine{
  0%{background-position:0%}
  100%{background-position:200%}
}

.heart{
  display:inline-block;
  animation:heartbeat 1.6s infinite ease-in-out;
}
@keyframes heartbeat{
  0%{transform:scale(1)}
  50%{transform:scale(1.25)}
  100%{transform:scale(1)}
}

/* Sparkles */
.sparkle{
  position:absolute;
  font-size:14px;
  animation:twinkle 3s infinite ease-in-out;
}
@keyframes twinkle{
  0%{opacity:0;transform:scale(.6)}
  50%{opacity:1;transform:scale(1.2)}
  100%{opacity:0;transform:scale(.6)}
}

/* Reduced motion أثناء الامتحان */
.exam .sparkle{animation-duration:5s;opacity:.4}
.exam .heart{animation-duration:2.5s}

/* After exam */
.after .sparkle{animation-duration:2s}
.after .heart{animation-duration:1.1s}

/* ================= LAYOUT ================= */
.container{max-width:520px;margin:auto;padding:16px}

/* ===== Top Bar ===== */
.top-bar{
  display:flex;
  gap:12px;
  margin-bottom:16px;
}
.progress-box{
  flex:1;
  background:var(--card);
  padding:14px;
  border-radius:18px;
  box-shadow:0 10px 22px rgba(2,132,199,.12);
}
.progress-text{
  display:flex;
  justify-content:space-between;
  flex-wrap:wrap;
  gap:6px;
  font-weight:800;
  font-size:14px;
}
.progress{
  height:8px;
  background:var(--soft);
  border-radius:10px;
  overflow:hidden;
}
.progress-bar{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,var(--primary),var(--secondary));
}

/* Timer */
.timer{
  width:64px;height:64px;border-radius:50%;
  background:conic-gradient(var(--primary) 0deg,var(--soft) 0deg);
  display:flex;align-items:center;justify-content:center;
  font-weight:900;font-size:14px;
  background-color:var(--card);
}

/* ================= CARD ================= */
.card{
  background:var(--card);
  padding:22px;
  border-radius:24px;
  box-shadow:0 18px 36px rgba(2,132,199,.18);
}
.question-title{
  background:var(--question);
  padding:16px;
  border-radius:16px;
  font-weight:900;
  margin-bottom:16px;
}
.option{
  background:var(--option);
  border:2px solid var(--soft);
  border-radius:18px;
  padding:15px;
  margin:12px 0;
  font-weight:700;
  cursor:pointer;
}
.option.correct{background:#eafaf1;border-color:var(--success)}
.option.wrong{background:#fff1f1;border-color:var(--danger)}
.option.disabled{pointer-events:none;opacity:.9}

button{
  margin-top:18px;
  width:100%;
  padding:15px;
  border:none;
  border-radius:20px;
  background:linear-gradient(90deg,var(--primary),var(--secondary));
  color:#fff;
  font-weight:900;
}

/* Feedback */
.feedback{
  text-align:center;
  font-size:22px;
  margin-bottom:10px;
  animation:pop .5s;
}
@keyframes pop{
  0%{transform:scale(.6);opacity:0}
  100%{transform:scale(1);opacity:1}
}

/* Report */
.report{
  background:var(--card);
  padding:14px;
  border-radius:14px;
  margin:10px 0;
  border-left:6px solid var(--soft);
}
.report.correct{border-color:var(--success)}
.report.wrong{border-color:var(--danger)}
</style>
</head>

<body class="exam">

<header>
  <div class="logo">
    <span class="brand-text">Gaith Team</span>
    <span class="heart">💖</span>
    <span class="sparkle" style="top:-8px;left:0">✨</span>
    <span class="sparkle" style="top:6px;right:-8px">✨</span>
    <span class="sparkle" style="bottom:-8px;left:50%">✨</span>
  </div>
  <div style="margin-top:6px;font-weight:800">الإمتحان في جيبك 👏🏻</div>
</header>

<div class="container">

  <div class="top-bar">
    <div class="progress-box">
      <div class="progress-text">
        <span id="progressText"></span>
        <span>
          ✔️ <span id="correctCount">0</span> |
          ❌ <span id="wrongCount">0</span> |
          ⏳ <span id="remainPercent">100%</span>
        </span>
      </div>
      <div class="progress">
        <div class="progress-bar" id="progressBar"></div>
      </div>
    </div>
    <div class="timer" id="timer">80:00</div>
  </div>

  <div id="app"></div>
</div>

<script>
/* ===== Questions ===== */
let questions = [

/* ================= Role of Director of Nursing ================= */

{t:"The nursing director is also known as:",o:["Head nurse","Unit manager","Matron","Staff nurse"],a:2},

{t:"The nursing director combines clinical experience with:",o:["Research only","Teaching skills","Managerial skills","Technical skills only"],a:2},

{t:"The main administrative responsibility of the nursing director is to:",o:["Provide bedside care","Develop organizational structure and standards","Assist physicians","Supervise students"],a:1},

{t:"A Master’s degree for a nursing director is:",o:["Mandatory","Optional but preferred","Not accepted","Replaced by experience"],a:1},

{t:"One year supervisory experience is part of:",o:["Personal qualification","Educational qualification","Professional qualification","Ethical qualification"],a:2},

{t:"Membership in a nursing syndicate reflects:",o:["Educational qualification","Personal qualification","Professional qualification","Technical qualification"],a:2},

{t:"Continuous self-improvement is classified as:",o:["Educational qualification","Professional qualification","Personal qualification","Legal qualification"],a:2},

{t:"Knowledge of social, economic, and legal issues is a:",o:["Technical skill","Personal qualification","Scientific qualification","Administrative duty"],a:1},

/* ================= Assessment Responsibilities ================= */

{t:"Determining staffing patterns is part of:",o:["Planning","Assessment","Implementation","Evaluation"],a:1},

{t:"Reviewing work schedules is included in:",o:["Evaluation","Planning","Assessment","Implementation"],a:2},

{t:"Nursing rounds aim to assess:",o:["Staff salary","Patient satisfaction only","Quality of patient care","Hospital income"],a:2},

{t:"Investigating complaints is done during:",o:["Planning","Assessment","Evaluation","Budgeting"],a:1},

{t:"Infection control assessment is done with:",o:["Medical director","Head nurse","Infection control nurse","Unit manager"],a:2},

/* ================= Planning Responsibilities ================= */

{t:"Setting priorities is a function of:",o:["Assessment","Planning","Evaluation","Control"],a:1},

{t:"Establishing department philosophy is part of:",o:["Implementation","Planning","Assessment","Evaluation"],a:1},

{t:"Job description development belongs to:",o:["Planning","Implementation","Evaluation","Assessment"],a:0},

{t:"Patient classification system is established during:",o:["Evaluation","Planning","Implementation","Control"],a:1},

{t:"Staff development through workshops is included in:",o:["Planning","Assessment","Implementation","Evaluation"],a:0},

/* ================= Implementation Responsibilities ================= */

{t:"Conducting monthly management meetings is part of:",o:["Planning","Implementation","Evaluation","Assessment"],a:1},

{t:"Hiring and terminating nursing staff is done during:",o:["Assessment","Planning","Implementation","Evaluation"],a:2},

{t:"Maintaining compliance with standards is a role of:",o:["Evaluation","Implementation","Planning","Assessment"],a:1},

{t:"Acting as a role model for staff reflects:",o:["Budgeting","Consultation","Leadership","Delegation"],a:2},

{t:"Maintaining direct patient contact indicates:",o:["Administrative isolation","Leadership involvement","Lack of delegation","Clinical supervision only"],a:1},

/* ================= Evaluation Responsibilities ================= */

{t:"Monthly reports are submitted during:",o:["Planning","Implementation","Evaluation","Assessment"],a:2},

{t:"Incident reports are analyzed during:",o:["Assessment","Evaluation","Planning","Implementation"],a:1},

{t:"Revising goals and objectives belongs to:",o:["Planning only","Implementation only","Evaluation","Assessment"],a:2},

{t:"Evaluating supervisors’ performance is part of:",o:["Planning","Staffing","Evaluation","Control"],a:2},

/* ================= Head Nurse Role ================= */

{t:"The head nurse works at which management level?",o:["Top","Middle","First-line","Executive"],a:2},

{t:"The head nurse manages nursing services in:",o:["The whole hospital","Multiple hospitals","A single nursing unit","Community services"],a:2},

{t:"Head nurses report directly to:",o:["Hospital director","Nursing supervisor","Medical director","Staff nurse"],a:1},

{t:"First-line managers spend more time in:",o:["Planning","Organizing","Directing and controlling","Policy making"],a:2},

{t:"The main responsibility of lower-level management is to:",o:["Set hospital goals","Coordinate departments","Get work done from staff","Develop policies"],a:2},

/* ================= Selection Criteria of Head Nurse ================= */

{t:"Being physically and emotionally healthy is a:",o:["Professional qualification","Educational qualification","Personal qualification","Legal requirement"],a:2},

{t:"Required educational qualification for head nurse is:",o:["Diploma in nursing","Bachelor of Science in Nursing","Master’s degree only","Doctorate degree"],a:1},

{t:"One year experience as nurse in charge is part of:",o:["Educational qualification","Personal qualification","Professional qualification","Ethical qualification"],a:2},

/* ================= Skills of Head Nurse ================= */

{t:"Ability to work with people refers to:",o:["Technical skills","Conceptual skills","Human skills","Political skills"],a:2},

{t:"Understanding complex situations is a:",o:["Technical skill","Human skill","Conceptual skill","Physical skill"],a:2},

{t:"Using knowledge to influence others reflects:",o:["Analytical skills","Political skills","Technical skills","Communication skills"],a:1},

{t:"Assigning the right nurse to the right patient requires:",o:["Human skills","Analytical skills","Technical skills","Political skills"],a:1},

/* ================= Staff Management ================= */

{t:"Assigning tasks with proper authority is part of:",o:["Staff supervision","Staff utilization","Staff evaluation","Staff development"],a:1},

{t:"Performance appraisal refers to:",o:["Supervision","Development","Evaluation","Planning"],a:2},

{t:"Encouraging training programs is part of:",o:["Supervision","Evaluation","Staff development","Staff utilization"],a:2},

/* ================= Relations Management ================= */

{t:"Open-door policy supports:",o:["Conflict creation","Staff punishment","Effective communication","Staff isolation"],a:2},

{t:"Preventing interdisciplinary conflict requires:",o:["Strict authority","Effective communication","Ignoring doctors","Written orders only"],a:1},

{t:"Mutual respect among team members supports:",o:["Conflict","Competition","Teamwork","Isolation"],a:2},

/* ================= Unit Management ================= */

{t:"Traditional pattern increases:",o:["Patient care time","Head nurse workload","Staff autonomy","Delegation"],a:1},

{t:"Progressive pattern aims to:",o:["Increase paperwork","Reduce quality care","Relieve head nurse","Eliminate management"],a:2},

{t:"A unit manager may have which relationship to head nurse?",o:["One only","Two only","Three types","No relationship"],a:2},

/* ================= Staff Nurse Role ================= */

{t:"The staff nurse mainly provides:",o:["Administrative care","Direct patient care","Financial management","Policy development"],a:1},

{t:"Staff nurses work under supervision of:",o:["Patients","Physicians only","Senior nurses","Hospital director"],a:2},

{t:"Licensure for staff nurse is:",o:["Optional","Not required","Mandatory","Temporary"],a:2},

{t:"Staff nurse position in organization chart is:",o:["Top","Middle","Bottom","Executive"],a:2},

/* ================= Skills of Staff Nurse ================= */

{t:"Giving full attention while listening is:",o:["Speaking","Monitoring","Active listening","Writing"],a:2},

{t:"Using logic to solve problems is:",o:["Judgment","Critical thinking","Monitoring","Coordination"],a:1},

{t:"Managing time effectively is called:",o:["Service orientation","Time management","Monitoring","Coordination"],a:1},

/* ================= Responsibilities of Staff Nurse ================= */

{t:"Administering medications is part of:",o:["Education","Direct patient care","Discharge planning","Advocacy"],a:1},

{t:"Teaching patients about disease is:",o:["Safety care","Direct care","Patient education","Documentation"],a:2},

{t:"Hand hygiene belongs to:",o:["Communication","Infection control","Education","Advocacy"],a:1},

{t:"Giving handover during shift change is part of:",o:["Communication","Evaluation","Planning","Supervision"],a:0},

{t:"Preparing patients for discharge is included in:",o:["Education","Direct care","Discharge planning","Advocacy"],a:2},

/* ================= Mixed ================= */

{t:"Delegation requires:",o:["Control without trust","Assigning tasks without authority","Assigning tasks with authority","Avoiding responsibility"],a:2},

{t:"Effective leadership improves:",o:["Conflict only","Morale and performance","Workload","Documentation"],a:1},

{t:"Staff development mainly aims to:",o:["Punish staff","Improve skills and knowledge","Reduce staffing","Increase workload"],a:1},

{t:"Multidisciplinary teamwork improves:",o:["Conflict","Isolation","Patient care quality","Errors"],a:2},

{t:"Evaluation helps in:",o:["Ignoring problems","Identifying weaknesses","Avoiding planning","Reducing communication"],a:1},

{t:"Budget preparation is the responsibility of:",o:["Staff nurse","Head nurse","Director of nursing","Student nurse"],a:2},

{t:"Unit manager mainly handles:",o:["Bedside care","Non-nursing activities","Teaching students","Medical diagnosis"],a:1},

{t:"Proper equipment availability ensures:",o:["Comfort only","Quality patient care","Reduced staff","Administrative work"],a:1},

{t:"Advocacy means:",o:["Ignoring patient needs","Supporting patient rights","Reporting staff only","Administrative duty"],a:1},

{t:"Continuous education reflects:",o:["Professional stagnation","Professional development","Technical weakness","Poor management"],a:1},

{t:"Documentation accuracy ensures:",o:["Legal protection","Poor communication","Increased workload","Delay in care"],a:0},

{t:"Ethical nursing practice guides:",o:["Decisions and actions","Salary distribution","Scheduling only","Budget planning"],a:0},

{t:"Supervision ensures activities are:",o:["Ignored","On course and on schedule","Delayed","Avoided"],a:1},

{t:"Coordination improves:",o:["Isolation","Conflict","Collaboration","Competition"],a:2},

{t:"Analytical skills help head nurses to:",o:["Avoid decisions","Assign staff effectively","Ignore families","Increase workload"],a:1},

{t:"Maintaining morale is a role of:",o:["Top management only","Middle management only","Lower-level management","Patients"],a:2},

{t:"Staff utilization focuses on:",o:["Numbers only","Right person, right task","Punishment","Evaluation"],a:1},

{t:"Infection control protects:",o:["Staff only","Patients only","Environment only","All healthcare members"],a:3},

{t:"Leadership by example reflects:",o:["Authority","Role modeling","Supervision","Control"],a:1},

{t:"Quality nursing care depends mainly on:",o:["Equipment only","Policies only","Competent staff and management","Documentation only"],a:2}

];
// ===== تحويل كل أسئلة True / False تلقائياً =====
questions = questions.map(q=>{
  if(typeof q.a === "boolean"){
    return {
      ...q,
      o: ["True","False"],
      a: q.a ? 0 : 1
    };
  }
  return q;
});
// تعريف المتغيرات الناقصة
let i = 0;
let correct = 0;
let wrong = 0;
let answers = [];
let wrongSet = [];

/* ===== Timer ===== */
let totalTime=80*60, timeLeft=totalTime;
const timerInt=setInterval(()=>{
  timeLeft--;
  let m=Math.floor(timeLeft/60), s=timeLeft%60;
  timer.innerText=`${m}:${s<10?"0":""}${s}`;
  let deg=(timeLeft/totalTime)*360;
  timer.style.background=`conic-gradient(var(--primary) ${deg}deg,var(--soft) ${deg}deg)`;
  if(timeLeft<=0){clearInterval(timerInt);finishExam();}
},1000);

/* ===== UI ===== */
function updateTop(){
  let total=questions.length;
  let answered=correct+wrong;
  progressText.innerText=`سؤال ${i+1} من ${total}`;
  progressBar.style.width=((i+1)/total*100)+"%";
  correctCount.innerText=correct;
  wrongCount.innerText=wrong;
  remainPercent.innerText=Math.round(((total-answered)/total)*100)+"%";
}

/* ===== Render ===== */
function show(){
  updateTop();
  let q = questions[i];

  app.innerHTML = `
    <div class="card">
      <div class="question-title">${q.t}</div>
      ${q.o.map((o,idx)=>`
        <div class="option" onclick="choose(${idx})">${o}</div>
      `).join("")}
    </div>
  `;
}
/* ===== Choose ===== */
function choose(v){
  if(answers[i]!=null) return;
  answers[i]=v;
  let ok=v===questions[i].a;
  ok?correct++:wrong++;
  app.innerHTML=`
    <div class="feedback">${ok?"🎉 شاطر جدًا كمل":"😅 ركّز يا سُكر"}</div>
    <div class="card">
      <div class="question-title">${questions[i].t}</div>
      ${questions[i].o.map((o,j)=>`
        <div class="option ${j===questions[i].a?"correct":j===v?"wrong":""} disabled">${o}</div>
      `).join("")}
      <button onclick="next()">التالي</button>
    </div>`;
}

/* ===== Next ===== */
function next(){
  if(i<questions.length-1){i++;show();}
  else finishExam();
}

/* ===== Finish ===== */
function finishExam(){
  document.body.classList.remove("exam");
  document.body.classList.add("after");

  let score=Math.round((correct/questions.length)*100);

  if(score>=80){
    document.documentElement.style.setProperty("--brand1","#22c55e");
    document.documentElement.style.setProperty("--brand2","#fde047");
  }else if(score>=50){
    document.documentElement.style.setProperty("--brand1","#38bdf8");
    document.documentElement.style.setProperty("--brand2","#e0f2fe");
  }else{
    document.documentElement.style.setProperty("--brand1","#fb923c");
    document.documentElement.style.setProperty("--brand2","#fed7aa");
  }

  wrongSet=[];
  let report="";
  questions.forEach((q,idx)=>{
    let ok=answers[idx]===q.a;
    if(!ok) wrongSet.push(q);
    report+=`
      <div class="report ${ok?"correct":"wrong"}">
        <b>${q.t}</b><br>
إجابتك: ${answers[idx]!=null ? q.o[answers[idx]] : "لم يتم الحل"}<br>
الصح: ${q.o[q.a]}
      </div>`;
  });

  app.innerHTML=`
    <div class="card">
      <h3>?? تقريرك</h3>
      ${report}
      ${wrongSet.length?`<button onclick="retry()">إعادة حل الغلط فقط</button>`:"<p>أنت ممتاز 👑</p>"}
    </div>`;
}

/* ===== Retry Wrong ===== */
function retry(){
  // نبدأ امتحان جديد بالأسئلة الغلط فقط
  questions = [...wrongSet];

  answers = [];
  wrongSet = [];
  i = 0;
  correct = 0;
  wrong = 0;

  // رجوع لشكل الامتحان
  document.body.classList.remove("after");
  document.body.classList.add("exam");

  show();
}

show();
</script>

</body>
</html>

