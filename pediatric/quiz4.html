<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gaith Team | Exam</title>

<style>
:root{
  --primary:#0284c7;
  --secondary:#0ea5e9;
  --bg:#f8fbff;
  --card:#ffffff;
  --soft:#e6f0ff;
  --question:#eef7ff;
  --option:#f9fcff;
  --success:#16a34a;
  --danger:#dc2626;
  --text:#0f172a;

  /* Brand dynamic */
  --brand1:#ffffff;
  --brand2:#e0f2fe;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:"Segoe UI",Tahoma,Arial,sans-serif;
  background:linear-gradient(180deg,var(--bg),#eef6ff);
  color:var(--text);
}

/* ================= HEADER ================= */
header{
  background:linear-gradient(90deg,var(--primary),var(--secondary));
  color:#fff;
  padding:18px;
  text-align:center;
  overflow:hidden;
}

/* ===== Brand ===== */
.logo{
  position:relative;
  font-size:28px;
  font-weight:900;
  display:inline-flex;
  align-items:center;
  gap:6px;
}

.brand-text{
  background:linear-gradient(90deg,var(--brand1),var(--brand2),var(--brand1));
  background-size:200% auto;
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  animation:shine 4s linear infinite;
}
@keyframes shine{
  0%{background-position:0%}
  100%{background-position:200%}
}

.heart{
  display:inline-block;
  animation:heartbeat 1.6s infinite ease-in-out;
}
@keyframes heartbeat{
  0%{transform:scale(1)}
  50%{transform:scale(1.25)}
  100%{transform:scale(1)}
}

/* Sparkles */
.sparkle{
  position:absolute;
  font-size:14px;
  animation:twinkle 3s infinite ease-in-out;
}
@keyframes twinkle{
  0%{opacity:0;transform:scale(.6)}
  50%{opacity:1;transform:scale(1.2)}
  100%{opacity:0;transform:scale(.6)}
}

/* Reduced motion أثناء الامتحان */
.exam .sparkle{animation-duration:5s;opacity:.4}
.exam .heart{animation-duration:2.5s}

/* After exam */
.after .sparkle{animation-duration:2s}
.after .heart{animation-duration:1.1s}

/* ================= LAYOUT ================= */
.container{max-width:520px;margin:auto;padding:16px}

/* ===== Top Bar ===== */
.top-bar{
  display:flex;
  gap:12px;
  margin-bottom:16px;
}
.progress-box{
  flex:1;
  background:var(--card);
  padding:14px;
  border-radius:18px;
  box-shadow:0 10px 22px rgba(2,132,199,.12);
}
.progress-text{
  display:flex;
  justify-content:space-between;
  flex-wrap:wrap;
  gap:6px;
  font-weight:800;
  font-size:14px;
}
.progress{
  height:8px;
  background:var(--soft);
  border-radius:10px;
  overflow:hidden;
}
.progress-bar{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,var(--primary),var(--secondary));
}

/* Timer */
.timer{
  width:64px;height:64px;border-radius:50%;
  background:conic-gradient(var(--primary) 0deg,var(--soft) 0deg);
  display:flex;align-items:center;justify-content:center;
  font-weight:900;font-size:14px;
  background-color:var(--card);
}

/* ================= CARD ================= */
.card{
  background:var(--card);
  padding:22px;
  border-radius:24px;
  box-shadow:0 18px 36px rgba(2,132,199,.18);
}
.question-title{
  background:var(--question);
  padding:16px;
  border-radius:16px;
  font-weight:900;
  margin-bottom:16px;
}
.option{
  background:var(--option);
  border:2px solid var(--soft);
  border-radius:18px;
  padding:15px;
  margin:12px 0;
  font-weight:700;
  cursor:pointer;
}
.option.correct{background:#eafaf1;border-color:var(--success)}
.option.wrong{background:#fff1f1;border-color:var(--danger)}
.option.disabled{pointer-events:none;opacity:.9}

button{
  margin-top:18px;
  width:100%;
  padding:15px;
  border:none;
  border-radius:20px;
  background:linear-gradient(90deg,var(--primary),var(--secondary));
  color:#fff;
  font-weight:900;
}

/* Feedback */
.feedback{
  text-align:center;
  font-size:22px;
  margin-bottom:10px;
  animation:pop .5s;
}
@keyframes pop{
  0%{transform:scale(.6);opacity:0}
  100%{transform:scale(1);opacity:1}
}

/* Report */
.report{
  background:var(--card);
  padding:14px;
  border-radius:14px;
  margin:10px 0;
  border-left:6px solid var(--soft);
}
.report.correct{border-color:var(--success)}
.report.wrong{border-color:var(--danger)}
</style>
</head>

<body class="exam">

<header>
  <div class="logo">
    <span class="brand-text">Gaith Team</span>
    <span class="heart">💖</span>
    <span class="sparkle" style="top:-8px;left:0">✨</span>
    <span class="sparkle" style="top:6px;right:-8px">✨</span>
    <span class="sparkle" style="bottom:-8px;left:50%">✨</span>
  </div>
  <div style="margin-top:6px;font-weight:800">الإمتحان في جيبك 👏🏻</div>
</header>

<div class="container">

  <div class="top-bar">
    <div class="progress-box">
      <div class="progress-text">
        <span id="progressText"></span>
        <span>
          ✔️ <span id="correctCount">0</span> |
          ❌ <span id="wrongCount">0</span> |
          ⏳ <span id="remainPercent">100%</span>
        </span>
      </div>
      <div class="progress">
        <div class="progress-bar" id="progressBar"></div>
      </div>
    </div>
    <div class="timer" id="timer">15:00</div>
  </div>

  <div id="app"></div>
</div>

<script>
/* ===== Questions ===== */
let questions = [
  // --- EASY: Knowledge ---
  {
    t: "What is the age range defined for the toddler stage?",
    o: ["Birth to 1 year", "1 to 3 years", "3 to 5 years", "5 to 12 years"],
    a: 1
  },
  {
    t: "By what age are all 20 deciduous teeth generally present in a toddler?",
    o: ["1.5 years", "2 years", "2.5 to 3 years", "4 years"],
    a: 2
  },
  {
    t: "According to Erikson, the psychosocial crisis faced by a toddler is:",
    o: ["Trust vs. Mistrust", "Autonomy vs. Shame and Doubt", "Initiative vs. Guilt", "Industry vs. Inferiority"],
    a: 1
  },
  {
    t: "What is the average weight gain per year for a toddler?",
    o: ["0.5 to 1.5 kg", "1.8 to 2.7 kg", "3.5 to 5 kg", "5 to 7 kg"],
    a: 1
  },
  {
    t: "At what age does a toddler typically start to say 50 words and use 2-word sentences?",
    o: ["15 months", "18 months", "24 months", "30 months"],
    a: 2
  },
  {
    t: "Which motor skill is typically achieved by a 15-month-old?",
    o: ["Walks alone well", "Runs well", "Jumps in place", "Walks up stairs alone"],
    a: 0
  },
  {
    t: "The toddler is often referred to by Piaget as a:",
    o: ["Little philosopher", "Little scientist", "Little explorer", "Little artist"],
    a: 1
  },
  {
    t: "Which sense is well developed by 15 months of age?",
    o: ["Binocular vision", "Hearing only", "Taste only", "Smell only"],
    a: 0
  },
  {
    t: "What is the formula for calculating the average height of a toddler?",
    o: ["Age x 2 + 8", "Age x 5 + 80", "Age x 7 + 70", "Age x 10 + 60"],
    a: 1
  },

  // --- MEDIUM: Assessment / Interpretation ---
  {
    t: "A 2-year-old child is able to open doors by turning doorknobs. This is an example of:",
    o: ["Gross motor development", "Fine motor development", "Social development", "Cognitive development"],
    a: 1
  },
  {
    t: "Which of the following is a sign that a toddler is physiologically ready for toilet training?",
    o: ["Can sit still for 30 minutes", "Can stand alone", "Speaks in full sentences", "Is at least 3 years old"],
    a: 1
  },
  {
    t: "A toddler who prefers only one particular food for several days is exhibiting:",
    o: ["Anorexia nervosa", "A food jag", "Negativism", "Ritualistic behavior"],
    a: 1
  },
  {
    t: "What is the most effective way to teach a child to use the toilet?",
    o: ["Punishment for accidents", "Ignoring the behavior", "Positive reinforcement", "Strict scheduling"],
    a: 2
  },
  {
    t: "Why do toddlers often appear 'pot-bellied'?",
    o: ["Due to excessive fat storage", "Due to immature abdominal muscles", "Due to a high-fiber diet", "Due to spinal curvature"],
    a: 1
  },
  {
    t: "If a 2-year-old child does not speak at all, what should be the nurse's first action?",
    o: ["Wait until the child is 3 years old", "Investigate the cause for delay", "Assume the child is just shy", "Label the child as having low intelligence"],
    a: 1
  },
  {
    t: "Which factor is the greatest risk for a child becoming overweight or obese?",
    o: ["Eating too many vegetables", "Having a parent with a high BMI", "Playing outdoors too much", "Sleeping more than 10 hours"],
    a: 1
  },
  {
    t: "At what age can a toddler typically jump down from chairs?",
    o: ["15 months", "18 months", "24 months", "30 months"],
    a: 3
  },
  {
    t: "Which behavior is characterized by a toddler wanting to do things they shouldn't or saying 'No' frequently?",
    o: ["Ritualism", "Negativism", "Regression", "Sibling rivalry"],
    a: 1
  },

  // --- HARD: Problem Solving ---
  {
    t: "A mother is concerned that her 20-month-old child has started wanting a bottle again after the birth of a new sibling. This is an example of:",
    o: ["Negativism", "Regression", "Temper tantrums", "Autonomy"],
    a: 1
  },
  {
    t: "To minimize sibling rivalry when a new baby is brought home, parents should:",
    o: ["Change the toddler's routine completely", "Spend individual time with the toddler daily", "Keep the toddler away from the baby", "Punish the toddler for being jealous"],
    a: 1
  },
  {
    t: "When a toddler is hospitalized, which primary task is most likely to be altered or threatened?",
    o: ["Developing trust", "Establishing autonomy", "Learning industry", "Developing identity"],
    a: 1
  },
  {
    t: "A child is in the pre-operational stage (2-7 years). According to Piaget, this child:",
    o: ["Can understand complex relationships", "Uses language well but lacks intellectual capability for phenomena relationships", "Has no memory or thought processes", "Can perform concrete logical operations"],
    a: 1
  },
  {
    t: "Which strategy is best for handling a toddler's temper tantrums?",
    o: ["Giving in to the child's demands", "Physical punishment", "Understanding the child is frustrated by reality's demands", "Ignoring the child completely for 24 hours"],
    a: 2
  },
  {
    t: "A toddler is using a security blanket to cope with being away from parents. This is a strategy to manage:",
    o: ["Negativism", "Separation anxiety", "Sibling rivalry", "Food jags"],
    a: 1
  },
  {
    t: "Why might a child in an institution have slower speech development?",
    o: ["They are naturally less intelligent", "They have fewer contacts and their needs are met before they ask", "They are forced to talk too early", "They have too many models to imitate"],
    a: 1
  },
  {
    t: "Daytime bladder control is usually established before nighttime bladder control in toddlers.",
    o: ["True", "False"],
    a: 0
  },
  {
    t: "Punishing a child for toilet accidents is an effective way to speed up training.",
    o: ["True", "False"],
    a: 1
  },
  {
    t: "Toddlers are normally egocentric, which contributes to sibling rivalry.",
    o: ["True", "False"],
    a: 0
  },
  {
    t: "By 24 months, a toddler should be able to walk up stairs alone using one foot per step.",
    o: ["True", "False"],
    a: 1
  },
  {
    t: "Regression often occurs during stressful events like hospitalization or the birth of a sibling.",
    o: ["True", "False"],
    a: 0
  }
];



// ===== shuffle questions only =====
function shuffleQuestions(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
}

// خلط الأسئلة فقط
shuffleQuestions(questions);

// تعريف المتغيرات الناقصة
let i = 0;
let correct = 0;
let wrong = 0;
let answers = [];
let wrongSet = [];

/* ===== Timer ===== */
let totalTime=15*60, timeLeft=totalTime;
const timerInt=setInterval(()=>{
  timeLeft--;
  let m=Math.floor(timeLeft/60), s=timeLeft%60;
  timer.innerText=`${m}:${s<10?"0":""}${s}`;
  let deg=(timeLeft/totalTime)*360;
  timer.style.background=`conic-gradient(var(--primary) ${deg}deg,var(--soft) ${deg}deg)`;
  if(timeLeft<=0){clearInterval(timerInt);finishExam();}
},1000);

/* ===== UI ===== */
function updateTop(){
  let total=questions.length;
  let answered=correct+wrong;
  progressText.innerText=`سؤال ${i+1} من ${total}`;
  progressBar.style.width=((i+1)/total*100)+"%";
  correctCount.innerText=correct;
  wrongCount.innerText=wrong;
  remainPercent.innerText=Math.round(((total-answered)/total)*100)+"%";
}

/* ===== Render ===== */
function show(){
  updateTop();
  let q = questions[i];

  app.innerHTML = `
    <div class="card">
      <div class="question-title">${q.t}</div>
      ${q.o.map((o,idx)=>`
        <div class="option" onclick="choose(${idx})">${o}</div>
      `).join("")}
    </div>
  `;
}
/* ===== Choose ===== */
function choose(v){
  if(answers[i]!=null) return;
  answers[i]=v;
  let ok=v===questions[i].a;
  ok?correct++:wrong++;
  app.innerHTML=`
    <div class="feedback">${ok?"🎉 شاطر جدًا كمل":"😅 ركّز يا سُكر"}</div>
    <div class="card">
      <div class="question-title">${questions[i].t}</div>
      ${questions[i].o.map((o,j)=>`
        <div class="option ${j===questions[i].a?"correct":j===v?"wrong":""} disabled">${o}</div>
      `).join("")}
      <button onclick="next()">التالي</button>
    </div>`;
}

/* ===== Next ===== */
function next(){
  if(i<questions.length-1){i++;show();}
  else finishExam();
}

/* ===== Finish ===== */
function finishExam(){
  document.body.classList.remove("exam");
  document.body.classList.add("after");

  let score=Math.round((correct/questions.length)*100);

  if(score>=80){
    document.documentElement.style.setProperty("--brand1","#22c55e");
    document.documentElement.style.setProperty("--brand2","#fde047");
  }else if(score>=50){
    document.documentElement.style.setProperty("--brand1","#38bdf8");
    document.documentElement.style.setProperty("--brand2","#e0f2fe");
  }else{
    document.documentElement.style.setProperty("--brand1","#fb923c");
    document.documentElement.style.setProperty("--brand2","#fed7aa");
  }

  wrongSet=[];
  let report="";
  questions.forEach((q,idx)=>{
    let ok=answers[idx]===q.a;
    if(!ok) wrongSet.push(q);
    report+=`
      <div class="report ${ok?"correct":"wrong"}">
        <b>${q.t}</b><br>
إجابتك: ${answers[idx]!=null ? q.o[answers[idx]] : "لم يتم الحل"}<br>
الصح: ${q.o[q.a]}
      </div>`;
  });

  app.innerHTML=`
    <div class="card">
      <h3>?? تقريرك</h3>
      ${report}
      ${wrongSet.length?`<button onclick="retry()">إعادة حل الغلط فقط</button>`:"<p>أنت ممتاز 👑</p>"}
    </div>`;
}

/* ===== Retry Wrong ===== */
function retry(){
  // نبدأ امتحان جديد بالأسئلة الغلط فقط
  questions = [...wrongSet];

  answers = [];
  wrongSet = [];
  i = 0;
  correct = 0;
  wrong = 0;

  // رجوع لشكل الامتحان
  document.body.classList.remove("after");
  document.body.classList.add("exam");

  show();
}

show();
</script>

</body>
</html>